<div class="section" id="inicioProp">
  <div class="container my-4">
    <div class="row">
      <div class="col-lg-12 mb-4 text-center">
        <h1 class="mt-5 titulo">Propiedades disponibles</h1>
      </div>
    </div>
    <div class="row mb-4">
      <div class="col-md-3 col-6">
        <label for="tipoPropiedad">Tipo de propiedad</label>
        <select [(ngModel)]="selectedTipoPropiedad" id="tipoPropiedad" class="form-control" (change)="onTipoPropiedadChange()">
          <option [ngValue]="null">Todas</option>
          <option *ngFor="let tipo of tipoPropiedadValues" [ngValue]="tipo">{{ tipo }}</option>
        </select>
      </div>
      <div class="col-md-3 col-6">
        <label for="departamento">Departamentos</label>
        <select [(ngModel)]="selectedDepartamento" id="location" class="form-control" (change)="onDepartamentoChange()">
          <option [ngValue]="null">Todos</option>
          <option *ngFor="let depto of departamentosValues" [ngValue]="depto">{{ depto }}</option>
        </select>
      </div>
      <div class="col-md-3 col-6">
        <label for="departamento">Tipo de negocio</label>
        <select [(ngModel)]="selectedTipoNegocio" id="tipoNegocio" class="form-control" (change)="onNegocioChange()">
          <option [ngValue]="null">Todos</option>
          <option *ngFor="let tipo of tipoNegocioValues" [ngValue]="tipo">{{ tipo }}</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12">
        <div class="row custom-card-group d-flex justify-content-center">
          <div
            class="col-md-6 col-sm-6 col-12 mb-3 mb-5"
            *ngFor="let card of currentCardData"
          >
            <div class="card custom-card">
              <div class="carousel-container">
                <div
                  id="propertyCarousel{{ card.id }}"
                  class="carousel slide"
                  data-ride="carousel"
                >
                  <div class="carousel-inner">
                    <div
                      class="carousel-item"
                      *ngFor="let image of card.imagenes; let i = index"
                      [class.active]="i === 0"
                    >
                      <img
                        [src]="image"
                        class="d-block w-100 h-100"
                        alt="Property Image"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-info">
                <div class="card-body custom-card-body">
                  <h1 class="card-title custom-card-title mb-3">
                    {{ card.title }}
                  </h1>
                  <h4 class="card-text custom-card-text">
                    {{ "$" + formatCurrencyValue(card.price) }}
                  </h4>
                  <p class="card-text custom-card-text">{{ card.tipoNegocio }}</p>
                  <p class="card-text custom-card-text">{{ card.location }}</p>
                  <p class="card-text custom-card-text">{{ card.direccion }}</p>
                </div>
                <a
                  [routerLink]="['/ver-propiedad', card.id]"
                  class="btn custom-card-link"
                  >Ver propiedad</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
